import pandas as pd
import numpy as np
import seaborn as sns
import matplotlib.pyplot as plt
import streamlit as st
import folium
from streamlit_folium import st_folium


st.set_page_config(
    page_title="–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–≥–∏–æ–Ω–æ–≤ –†–æ—Å—Å–∏–∏",
    page_icon="üåø",
)

sf = pd.read_csv('–≤—Å–µ_–¥–∞–Ω–Ω—ã–µ.csv')
#sf['—Ä–µ–≥–∏–æ–Ω'] = sf['—Ä–∞–π–æ–Ω']
#sf['–ø–ª–æ—Ç–Ω–æ—Å—Ç—å –Ω–∞—Å–µ–ª–µ–Ω–∏—è'] = sf["–ø–ª–æ—Ç–Ω–æ—Å—Ç—å –Ω–∞—Å–µ–ª–µ–Ω–∏—è –Ω–∞ 1 —è–Ω–≤ 22 –≥–æ–¥–∞"].apply(lambda x:np.log(x+3))
sf['–ø–ª–æ—Ç–Ω–æ—Å—Ç—å –Ω–∞—Å–µ–ª–µ–Ω–∏—è'] = sf["–ø–ª–æ—Ç–Ω–æ—Å—Ç—å –Ω–∞—Å–µ–ª–µ–Ω–∏—è –Ω–∞ 1 —è–Ω–≤ 22 –≥–æ–¥–∞"]
#sf['–ø–ª–æ—Ç–Ω–æ—Å—Ç—å –Ω–∞—Å–µ–ª–µ–Ω–∏—è –Ω–∞ 1 —è–Ω–≤ 22 –≥–æ–¥–∞'] = sf['–ø–ª–æ—Ç–Ω–æ—Å—Ç—å –Ω–∞—Å–µ–ª–µ–Ω–∏—è –Ω–∞ 1 —è–Ω–≤ 22 –≥–æ–¥–∞'].str.replace(',', '.').astype(float)
#sf['–ü—Ä–æ—Ü–µ–Ω—Ç –ª—é–¥–µ–π –∑–∞ —á–µ—Ä—Ç–æ–π –±–µ–¥–Ω–æ—Å—Ç–∏'] = sf['–ü—Ä–æ—Ü–µ–Ω—Ç –ª—é–¥–µ–π –∑–∞ —á–µ—Ä—Ç–æ–π –±–µ–¥–Ω–æ—Å—Ç–∏'].str.replace(',', '.').astype(float)
cd = sf.loc[~sf['—Ä–µ–≥–∏–æ–Ω'].isin(['–≥. –ú–æ—Å–∫–≤–∞', "–≥.–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥", "–≥. –°–µ–≤–∞—Å—Ç–æ–ø–æ–ª—å"]), ['–ø–ª–æ—Ç–Ω–æ—Å—Ç—å –Ω–∞—Å–µ–ª–µ–Ω–∏—è', '—Ä–µ–≥–∏–æ–Ω']]
cda = sf.loc[sf['—Ä–µ–≥–∏–æ–Ω'].isin(['–≥. –ú–æ—Å–∫–≤–∞', "–≥.–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥", "–≥. –°–µ–≤–∞—Å—Ç–æ–ø–æ–ª—å"]), ['–ø–ª–æ—Ç–Ω–æ—Å—Ç—å –Ω–∞—Å–µ–ª–µ–Ω–∏—è', '—Ä–µ–≥–∏–æ–Ω']]

st.sidebar.success("–û–±—â–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º –†–æ—Å—Å–∏–∏")

st.divider()

st.markdown(
    """
    # –î–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏ –Ω–∞—Å–µ–ª–µ–Ω–∏—è –†–æ—Å—Å–∏–∏ –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º –Ω–∞ –º–æ–º–µ–Ω—Ç 2022 –≥–æ–¥–∞.
"""
)
st.divider()

st.markdown(
    """
    ## –†–µ–≥–∏–æ–Ω—ã —Å –Ω–µ–±–æ–ª—å—à–æ–π/—Å—Ä–µ–¥–Ω–µ–π –ø–ª–æ—Ç–Ω–æ—Å—Ç—å—é –Ω–∞—Å–µ–ª–µ–Ω–∏—è.
"""
)
st.bar_chart(cd, x="—Ä–µ–≥–∏–æ–Ω", y="–ø–ª–æ—Ç–Ω–æ—Å—Ç—å –Ω–∞—Å–µ–ª–µ–Ω–∏—è")

st.divider()

st.markdown(
"""
    ## –†–µ–≥–∏–æ–Ω—ã —Å –±–æ–ª—å—à–æ–π –ø–ª–æ—Ç–Ω–æ—Å—Ç—å—é –Ω–∞—Å–µ–ª–µ–Ω–∏—è.
"""
)
st.bar_chart(cda, x="—Ä–µ–≥–∏–æ–Ω", y="–ø–ª–æ—Ç–Ω–æ—Å—Ç—å –Ω–∞—Å–µ–ª–µ–Ω–∏—è")
st.divider()

st.markdown(
    """
    –ù–∞–≥–ª—è–¥–Ω–æ –≤–∏–¥–Ω–æ, —á—Ç–æ –≥.–ú–æ—Å–∫–≤–∞, –≥.–°–µ–≤–∞—Å—Ç–æ–ø–æ–ª—å –∏ –≥.–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ –æ–±–ª–∞–¥–∞—é—Ç –Ω–∞–∏–±–æ–ª—å—à–µ–π –ø–ª–æ—Ç–Ω–æ—Å—Ç—å—é –Ω–∞—Å–µ–ª–µ–Ω–∏—è.
"""
)

st.divider()

st.markdown(
    """
    # –î–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –ø—Ä–æ—Ü–µ–Ω—Ç–∞ –ª—é–¥–µ–π, –Ω–∞—Ö–æ–¥—è—â–∏—Ö—Å—è –∑–∞ —á–µ—Ä—Ç–æ–π –±–µ–¥–Ω–æ—Å—Ç–∏ –Ω–∞ –º–æ–º–µ–Ω—Ç 2022 –≥–æ–¥–∞ –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º –†–æ—Å—Å–∏–∏.
"""
)

st.divider()


sf['–ø—Ä–æ—Ü–µ–Ω—Ç –ª—é–¥–µ–π –∑–∞ —á–µ—Ä—Ç–æ–π –±–µ–¥–Ω–æ—Å—Ç–∏'] = sf['–ü—Ä–æ—Ü–µ–Ω—Ç –ª—é–¥–µ–π –∑–∞ —á–µ—Ä—Ç–æ–π –±–µ–¥–Ω–æ—Å—Ç–∏']
cdcd = sf[['–ø—Ä–æ—Ü–µ–Ω—Ç –ª—é–¥–µ–π –∑–∞ —á–µ—Ä—Ç–æ–π –±–µ–¥–Ω–æ—Å—Ç–∏', '—Ä–µ–≥–∏–æ–Ω']]
st.bar_chart(cdcd, x="—Ä–µ–≥–∏–æ–Ω", y="–ø—Ä–æ—Ü–µ–Ω—Ç –ª—é–¥–µ–π –∑–∞ —á–µ—Ä—Ç–æ–π –±–µ–¥–Ω–æ—Å—Ç–∏")

st.divider()

st.markdown(
    """
    # –î–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –ø—Ä–æ–∂–∏—Ç–æ—á–Ω–æ–≥–æ –º–∏–Ω–∏–º—É–º–∞ –Ω–∞ –º–æ–º–µ–Ω—Ç 2022 –≥–æ–¥–∞ –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º –†–æ—Å—Å–∏–∏.
"""
)

st.divider()

sf['–ø—Ä–æ–∂–∏—Ç–æ—á–Ω—ã–π –º–∏–Ω–∏–º—É–º'] = sf['–ø—Ä–æ–∂–∏—Ç–æ—á–Ω—ã–π –º–∏–Ω–∏–º—É–º (–Ω–∞ 2022 –≥–æ–¥)']
cdcdcd = sf[['–ø—Ä–æ–∂–∏—Ç–æ—á–Ω—ã–π –º–∏–Ω–∏–º—É–º', '—Ä–µ–≥–∏–æ–Ω']]
st.bar_chart(cdcdcd, x="—Ä–µ–≥–∏–æ–Ω", y="–ø—Ä–æ–∂–∏—Ç–æ—á–Ω—ã–π –º–∏–Ω–∏–º—É–º")

st.divider()

st.markdown(
    """
    # –î–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é —Å—Ä–µ–¥–Ω–µ–π –∑–∞—Ä–∞–±–æ—Ç–Ω–æ–π –ø–ª–∞—Ç—ã –Ω–∞ –º–æ–º–µ–Ω—Ç 2022 –≥–æ–¥–∞ –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º –†–æ—Å—Å–∏–∏.
"""
)

st.divider()

sf['—Å—Ä–µ–¥–Ω—è—è –∑–∞—Ä–∞–±–æ—Ç–Ω–∞—è –ø–ª–∞—Ç–∞'] = sf['—Å—Ä–µ–¥–Ω—è—è –∑–ø –≤ –º–µ—Å—è—Ü (2022)']
cdcdcd = sf[['—Å—Ä–µ–¥–Ω—è—è –∑–∞—Ä–∞–±–æ—Ç–Ω–∞—è –ø–ª–∞—Ç–∞', '—Ä–µ–≥–∏–æ–Ω']]
st.bar_chart(cdcdcd, x="—Ä–µ–≥–∏–æ–Ω", y="—Å—Ä–µ–¥–Ω—è—è –∑–∞—Ä–∞–±–æ—Ç–Ω–∞—è –ø–ª–∞—Ç–∞")


st.divider()

#ngrok tcp 3306 --cidr-allow 10.10.30.156:8501
#streamlit run "C:\Users\simki\PycharmProjects\project_ppch\–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –†–æ—Å—Å–∏–∏.py"
#.\ngrok http 8501